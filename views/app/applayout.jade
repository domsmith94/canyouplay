//Layout.jade defines the layout of the entire website. It will contain the navbar and
//extension views will populate pageTitle and pageContent blocks
doctype html
html
	head
		title= title
		script(src='/js/lib/angular.js')
		script(src='/js/lib/angular-route.min.js')
		script(src='/js/lib/angular-animate.min.js')
		script(src='/js/lib/ui-bootstrap-tpls-1.1.2.js')
		script(src='/js/lib/angular-validation-match.js')
		script(src='/js/canyouplay.js')
		script(src='/js/controllers/appController.js')
		link(rel='stylesheet', href='/css/bootstrap.min.css')
		link(rel='stylesheet', href='/css/navbar.css')
		link(rel='stylesheet', href='/css/style.css')

		meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')


	body(ng-app='canyouplayApp')
		div.container
			nav.navbar.navbar-default
				.container-fluid
					.navbar-header
						button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar', ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed")
							span.sr-only Toggle navigation
							span.icon-bar
							span.icon-bar
							span.icon-bar
						a.navbar-brand(href='#/') CanYouPlay
					#navbar.navbar-collapse.collapse(uib-collapse="navCollapsed")
						ul.nav.navbar-nav
							li
								a(href='#fixture', ng-click='navCollapsed = !navCollapsed') Fixtures
							li
								a(href='#availability', ng-click='navCollapsed') Availability
						ul.nav.navbar-nav.navbar-right
								li(ng-if = 'currentUser.isOwner')
									a(href='#invite', ng-click='navCollapsed = !navCollapsed') Invite

								li
									a(href='#settings', ng-click='navCollapsed = !navCollapsed') Settings
								li
									form(method='post', action='/sign-out')
										input(type='hidden', name='action', value='logout')
										button.btn.btn-link.navbar-btn.nounderline(type='submit') Sign Out

		div.ng-view
